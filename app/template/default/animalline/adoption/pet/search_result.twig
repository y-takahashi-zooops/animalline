{% set site_type = 'adoption' %}
{% extends 'animalline/adoption/frame.twig' %}
{% set params = app.request.query.all %}
{% block main %}
<section id="breeder-mv" class="adoption">
      <div class="inner">
        <div class="breeder-mv__container">
          <div class="breeder-mv__text">
            <h2></h2>
            <div class="breeder-mv__text_logo"><img src="{{ asset('assets/img/adoption-mv-logo.png') }}" alt="Animalline Breeder"/></div>
            <p>ペットとつながる信頼の絆</p>
            <div class="breeder-mv__text_btn">
              <ul>
                {% if petKind == constant('Customize\\Config\\AnilineConf::ANILINE_PET_KIND_DOG') %}
                  <li class="breeder-mv__text_btn_dog"><span><i>ワンちゃんを探そう</i></span></li>
                    <li class="breeder-mv__text_btn_cat"><a href="{{ url('adoption_top', {'pet_kind': constant('Customize\\Config\\AnilineConf::ANILINE_PET_KIND_CAT')}) }}"><i>ネコちゃんを探そう</i></a></li>
                {% else %}
                    <li class="breeder-mv__text_btn_dog"><a href="{{ url('adoption_top', {'pet_kind': constant('Customize\\Config\\AnilineConf::ANILINE_PET_KIND_DOG')}) }}"><i>ワンちゃんを探そう</i></a></li>
                  <li class="breeder-mv__text_btn_cat"><span><i>ネコちゃんを探そう</i></span></li>
                {% endif %}
              </ul>
            </div>
          </div>
          <div class="breeder-mv__search">
            <div class="breeder-mv__search_wrap breeder-mv__search_dog">
              <div class="breeder-mv__search_title">
                {% if petKind == constant('Customize\\Config\\AnilineConf::ANILINE_PET_KIND_DOG') %}
                  <h2>ワンちゃんを探そう</h2>
                {% else %}
                  <h2>ネコちゃんを探そう</h2>
                {% endif %}
              </div>
              <div class="breeder-mv__search_body">
                <form action="{{ url('adoption_pet_search_result') }}" method="get">
                  <input type="hidden" name="pet_kind" value="{{ petKind }}">
                  <div class="breeder-mv__search_top">
                    <div class="select-container">
                      <select class="form_dropdown w-100" id="formControlSelect1" name="breed_type">
                        <option value="">種類</option>
                        {% for breed in breeds %}
                            <option value="{{ breed.id }}" {% if params.breed_type is defined and params.breed_type== breed.id%} selected {% endif %}>{{ breed.breedsName }}</option>
                        {% endfor %}
                      </select>
                    </div>
                  </div>
                  <div class="breeder-mv__search_bottom">
                    <div class="breeder-mv__search_bottom_w50">
                      <div class="select-container">
                        <select class="form_dropdown w-100" id="formControlSelect2" name="gender">
                          <option value="">性別</option>
                          <option value="1" {% if params.gender is defined and params.gender == 1 %} selected {% endif %}>
                            男の子
                          </option>
                          <option value="2" {% if params.gender is defined and params.gender == 2 %} selected {% endif %}>
                            女の子
                          </option>
                        </select>
                      </div>
                    </div>
                    <div class="breeder-mv__search_bottom_w50">
                      <div class="select-container">
                        <select class="form_dropdown w-100" id="formControlSelect3" name="region">
                            <option value="">都道府県</option>
                        {% for region in regions %}
                            <option value="{{ region.id }}" {% if params.region is defined and params.region == region.id %} selected {% endif %}>{{ region.name }}</option>
                        {% endfor %}
                        </select>
                      </div>
                      <label><input type="checkbox" name="adjacent" value="1" class="mr-1"
                                                    {% if params.adjacent is defined and params.adjacent == 1 %} checked {% endif %}{% if params.adjacent is defined and params.adjacent == 1 %} checked {% endif %}>隣の都道府県も検索</label>
                    </div>
                  </div>
                  <div class="breeder-mv__search_btn">
                    <button><i class="bi bi-check2-square"></i>この条件で検索する</button>
                  </div>
                </form>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>
 
  <section id="breeder-column" class="breeder-column_dog">
      <div class="inner">
        <div class="breeder-column-row">
          <div class="breeder-column__main">
            <div class="breeder-column__main_section" id="breeder-column__main_section_dog_new">
              <div class="breeder-column__main_section_title">
                <h3>検索結果</h3>
              </div>
              <div class="breeder-column__main_section_body">
                <ul>
                    {% for pet in pets %}
                        <li>
                            <a href="{{ url('adoption_pet_detail', {'id': pet.id}) }}" style="font-weight: 300;">
                            <div class="tags">
                              <ul>
                                {% if pet.isActive == 1 %}
                                  <li class="tag_new"><span>募集中</span></li>
                                {% endif %}
                                {% if pet.isActive == 2 %}
                                  <li class="tag_recommend"><span>ﾄﾗｲｱﾙ中</span></li>
                                {% endif %}
                                {% if pet.isActive == 3 %}
                                  <li class="tag_popular"><span>譲渡決定</span></li>
                                {% endif %}
                              </ul>
                            </div>
                            <figure>
                              <img src="{{ app.request.schemeAndHttpHost ~ '/' ~ constant('Customize\\Config\\AnilineConf::ANILINE_IMAGE_URL_BASE') ~ (pet.thumbnailPath | default('/noimage_plugin_list.png')) }}"
                            class="card-img-top" alt="Pet-image">
                            </figure>
                            <h4>{{ pet.name }}</h4>
                            <div>{{ pet.breedsType.breedsName }}</div>
                            <div class="type">
                              <span>{{ pet.petSex == constant('Customize\\Config\\AnilineConf::ANILINE_PET_SEX_MALE') ? '男の子' : '女の子' }}</span>
                              <span>{{ pet.coatColor}}</span>
                            <p>{{ pet.prComment|nl2br }}</p>
                            </a>
                        </li>
                    {% else %}
                        <span class="mb-2">結果が０件です。</span>
                    {% endfor %}
                </ul>
              </div>
              <div class="navigation">
                {{ knp_pagination_render(pets, '@KnpPaginator/twitter_bootstrap_v4_pagination.html.twig') }}
              </div>
            </div>
          </div>
          {{ include('animalline/adoption/side.twig') }}
        </div>
      </div>
  </section>
{% endblock %}

{% block stylesheet %}
  <link rel="stylesheet" href="{{ asset('assets/css/adoption-style.css') }}">
{% endblock %}

{% block javascript %}{% endblock %}