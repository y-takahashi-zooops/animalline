{% set site_type = 'adoption' %}
{% extends 'ani_frame.twig' %}

{% block main %}
    <div class="main">
        <div class="row">
            {% include 'side.twig' %}
            <div class="main-container col-sm-9">
                <div class="sub-title">
                    <h2 class="float-left">{{ conservationPet.BreedsType.breedsName ?? '' }}</h2>
                    <div class="col-sm-3 float-right btn-like {{ isFavorite ? "red-heart" : "" }}"
                         data-id="{{ conservationPet.getId() }}" data-login="{{ isLoggedIn }}">
                        <a>
                            <svg width="24" height="20" class="heart-icon">
                                <path d="M19.469 1.262c-5.284-1.53-7.47 4.142-7.47 4.142S9.815-.269 4.532 1.262C-1.937 3.138.44 13.832 12 19.333c11.559-5.501 13.938-16.195 7.469-18.07z"
                                      stroke="#FF424F" stroke-width="1.5"
                                      fill="{{ isFavorite ? '#FF424F' : 'none' }}"
                                      fill-rule="evenodd"
                                      stroke-linejoin="round">
                                </path>
                            </svg>
                            <span id="textBtnLike">{{ isFavorite ? 'お気に入りから削除' : 'お気に入りに追加' }}</span>
                        </a>
                    </div>
                </div>
                <div class="m-2 p-2"></div>
                <div class="row">
                    <div class="col-sm-6">
                        <img src="{{ '/' ~ constant('Customize\\Config\\AnilineConf::ANILINE_IMAGE_URL_BASE') ~ (images[0].imageUri | default('/noimage_plugin_list.png')) }}"
                             class="card-img-top" alt="...">
                        <div class="d-block d-sm-none m-2 p-2"></div>
                    </div>
                    <div class="col-6 col-sm-3">
                        <img src="{{ '/' ~ constant('Customize\\Config\\AnilineConf::ANILINE_IMAGE_URL_BASE') ~ (images[1].imageUri |default('/noimage_plugin_list.png')) }}"
                             class="card-img-top w-100" alt="...">
                        <div class="m-2 p-2"></div>
                        <img src="{{ '/' ~ constant('Customize\\Config\\AnilineConf::ANILINE_IMAGE_URL_BASE') ~ (images[2].imageUri |default('/noimage_plugin_list.png')) }}"
                             class="card-img-top w-100" alt="...">
                    </div>
                    <div class="col-6 col-sm-3">
                        <img src="{{ '/' ~ constant('Customize\\Config\\AnilineConf::ANILINE_IMAGE_URL_BASE') ~ (images[3].imageUri |default('/noimage_plugin_list.png')) }}"
                             class="card-img-top w-100" alt="...">
                        <div class="m-2 p-2"></div>
                        <img src="{{ '/' ~ constant('Customize\\Config\\AnilineConf::ANILINE_IMAGE_URL_BASE') ~ (images[4].imageUri |default('/noimage_plugin_list.png')) }}"
                             class="card-img-top w-100" alt="...">
                    </div>
                </div>
                <div class="m-2 p-2"></div>
                <div class="row">
                    <div class="col-12">
                        <table class="table table-borderless">
                            <tbody>
                            <tr>
                                <th scope="row" class="text-align-center">種類</th>
                                <td class="color-gray-500">{{ conservationPet.BreedsType.breedsName ?? '' }}</td>
                                <th scope="row" class="text-align-center">性別</th>
                                <td class="color-gray-500">{{ conservationPet.petSex == constant('Customize\\Config\\AnilineConf::ANILINE_PET_SEX_MALE') ? '男の子' : '女の子' }}</td>
                            </tr>
                            <tr>
                                <th scope="row" class="text-align-center">見学地域</th>
                                {% set conservationHouse = conservationPet.Conservation.getConservationHouseByPetType(conservationPet.petKind) %}
                                <td class="color-gray-500">{{ conservationHouse.conservationHouseCity ~ ' ' ~ conservationHouse.conservationHousePref ?? '' }}</td>
                                <th scope="row" class="text-align-center">誕生日</th>
                                <td class="color-gray-500">{{ conservationPet.petBirthday.format('Y年m月d日') ?? '' }}</td>
                            </tr>
                            <tr>
                                <th scope="row" class="text-align-center">色</th>
                                <td class="color-gray-500">{{ conservationPet.CoatColor.coatColorName ?? '' }}</td>
                                {% if (conservationPet.petKind == constant('Customize\\Config\\AnilineConf::ANILINE_PET_KIND_DOG')) %}
                                    <th scope="row" class="text-align-center">成犬時予想</th>
                                    <td class="color-gray-500">{{ conservationPet.futureWait }}kg</td>
                                {% endif %}
                            </tr>
                            <tr>
                                <th scope="row" class="text-align-center" style="vertical-align: middle;">PR</th>
                                <td colspan="3" class="color-gray-500">{{ conservationPet.prComment }}</td>
                            </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
                <div class="m-2 p-2"></div>
                <div class="row">
                    <div class="price-container col-12">
                        <h2>{{ conservationPet.price|number_format(0) }}<span>円（税込）</span></h2>
                    </div>
                </div>
                <div class="m-2 p-2"></div>
                {% if video %}
                    <div class="row">
                        <div class="col-12 text-center">
                            <video controls autoplay loop preload="auto">
                                <source type="video/mp4"
                                        src="{{ app.request.schemeAndHttpHost ~ '/' ~ video.imageUri }}">
                            </video>
                        </div>
                    </div>
                    <div class="m-2 p-2"></div>
                {% endif %}
                <div class="row">
                    <div class="col-sm-4"></div>
                    <div class="col-sm-4">
                        <a href="{{ url('adpotion_contact', {'pet_id': conservationPet.getId()}) }}">
                            <button class="btn basic-btn adoption-btn">お問い合わせ</button>
                        </a>
                    </div>
                    <div class="col-sm-4"></div>
                </div>
                <div class="m-2 p-2"></div>
                <div class="row">
                    <div class="col-12">
                        <h2 class="font-weight-500">紹介文</h2>
                    </div>
                </div>
                <div class="m-2 p-2"></div>
                <div class="row">
                    <div class="col-12">
                        <p>{{ conservationPet.description }}</p>
                    </div>
                </div>
                <div class="m-2 p-2"></div>
                <div class="row">
                    <div class="col-12">
                        <h2 class="font-weight-500">引き渡し時期</h2>
                    </div>
                </div>
                <div class="m-2 p-2"></div>
                <div class="row">
                    <div class="col-12">
                        <p>{{ conservationPet.deliveryTime }}</p>
                    </div>
                </div>
                <div class="m-2 p-2"></div>
                <div class="row">
                    <div class="col-12">
                        <h2 class="font-weight-500">保護団体紹介</h2>
                    </div>
                </div>
                <div class="m-2 p-2"></div>
                <div class="row">
                    <div class="breeder-img col-sm-4">
                        <img alt="..."
                             src="{{ (conservationPet.Conservation.thumbnailPath | default(constant('Customize\\Config\\AnilineConf::ANILINE_IMAGE_URL_BASE') ~ '/noimage_plugin_list.png')) }}"
                             class="w-100 mb-4 mb-sm-0">
                    </div>
                    <div class="breeder-info col-sm-8">
                        <h3 class="font-weight-500 color-gray-500">{{ conservationPet.Conservation.organizationName }}</h3>
                        <div class="m-1 p-1"></div>
                        <div class="d-flex">
                            <h6>犬舎所在地：</h6>
                            {% set houseDog = conservationPet.Conservation.getConservationHouseByPetType(constant('Customize\\Config\\AnilineConf::ANILINE_PET_KIND_DOG')) %}
                            {% set houseCat = conservationPet.Conservation.getConservationHouseByPetType(constant('Customize\\Config\\AnilineConf::ANILINE_PET_KIND_CAT')) %}
                            {% if (conservationPet.Conservation.handlingPetKind == constant('Customize\\Config\\AnilineConf::ANILINE_PET_KIND_DOG_CAT')) %}
                                <h6>{{ houseDog.conservationHousePref ~ houseDog.conservationHouseCity ?? '' ~ ' ' ~ houseCat.conservationHousePref ~ houseCat.conservationHouseCity ?? '' }}</h6>
                            {% elseif (conservationPet.Conservation.handlingPetKind == constant('Customize\\Config\\AnilineConf::ANILINE_PET_KIND_DOG')) %}
                                <h6>{{ houseDog.conservationHousePref ~ houseDog.conservationHouseCity ?? '' }}</h6>
                            {% else %}
                                <h6>{{ houseCat.conservationHousePref ~ houseCat.conservationHouseCity ?? '' }}</h6>
                            {% endif %}
                        </div>
                        <div class="m-1 p-1"></div>
                        <div class="d-flex">
                            <h6>運営者指名：</h6>
                            <h6>{{ conservationPet.Conservation.ownerName }}</h6>
                        </div>
                        <div class="m-1 p-1"></div>
                        <div class="d-flex">
                            <h6>ホームページの URL 任意：</h6>
                            <h6>{{ conservationPet.Conservation.homepageUrl }}</h6>
                        </div>
                        <div class="m-2 p-2"></div>
                        <a href="conservationpage.html">
                            <h4 class="color-adoption">保護団体詳細ページへ</h4>
                        </a>
                    </div>
                </div>
                <div class="m-2 p-2"></div>
                <div class="row">
                    <div class="col-12">
                        <p>
                            テキストが入ります。テキストが入ります。テキストが入ります。テキストが入ります。テキストが入ります。テキストが入ります。
                            テキストが入ります。テキストが入ります。テキストが入ります。テキストが入ります。テキストが入ります。テキストが入ります。
                            テキストが入ります。テキストが入ります。テキストが入ります。テキストが入ります。テキストが入ります。テキストが入ります。
                            テキストが入ります。テキストが入ります。テキストが入ります。テキストが入ります。テキストが入ります。テキストが入ります。
                            テキストが入ります。テキストが入ります。テキストが入ります。テキストが入ります。テキストが入ります。テキストが入ります。
                            テキストが入ります。テキストが入ります。
                        </p>
                    </div>
                </div>
                <div class="m-2 p-2"></div>
                <div class="row">
                    <div class="col-12 bg-primary">
                        <div class="col-12">
                            <h2 class="font-weight-500">自己PR</h2>
                            <div class="m-2 p-2"></div>
                            <p>
                                {{ conservationPet.Conservation.prText }}
                            </p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
{% endblock %}
{% block stylesheet %}
    <link rel="stylesheet" href="{{ asset('assets/css/adoption-style.css') }}">
{% endblock %}
{% block javascript %}
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
<script src="{{ asset('assets/js/favorite.js') }}"></script>
    <script>
    function toggleNav() {
    var body = document.body;
    var hamburger = document.getElementById('js-hamburger');
    var blackBg = document.getElementById('js-black-bg');

    hamburger.addEventListener('click', function() {
    body.classList.toggle('nav-open');
});
    blackBg.addEventListener('click', function() {
    body.classList.remove('nav-open');
});
}
    toggleNav();
    </script>
{% endblock %}