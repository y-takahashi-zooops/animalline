{% set site_type = 'adoption' %}
{% extends 'animalline/adoption/frame.twig' %}

{% block main %}
    <div class="main">
        <div class="row">
            {% include 'side.twig' %}
            <div class="main-container col-sm-9">
                <div class="sub-title">
                    <h2 class="float-left">{{ conservationPet.BreedsType.breedsName ?? '' }}</h2>
                    <div class="col-sm-3 float-right btn-like {{ isFavorite ? "red-heart" : "" }}"
                         data-id="{{ conservationPet.id }}" data-login="{{ isLoggedIn }}">
                        <a>
                            <svg width="24" height="20" class="heart-icon">
                                <path d="M19.469 1.262c-5.284-1.53-7.47 4.142-7.47 4.142S9.815-.269 4.532 1.262C-1.937 3.138.44 13.832 12 19.333c11.559-5.501 13.938-16.195 7.469-18.07z"
                                      stroke="#FF424F" stroke-width="1.5"
                                      fill="{{ isFavorite ? '#FF424F' : 'none' }}"
                                      fill-rule="evenodd"
                                      stroke-linejoin="round">
                                </path>
                            </svg>
                            <span id="textBtnLike">{{ isFavorite ? 'お気に入りから削除' : 'お気に入りに追加' }}</span>
                        </a>
                    </div>
                </div>
                <div class="m-2 p-2"></div>
                <div class="row">
                    <div class="col-sm-6">
                        <img src="{{ app.request.schemeAndHttpHost ~ '/' ~ constant('Customize\\Config\\AnilineConf::ANILINE_IMAGE_URL_BASE') ~ (images[0].imageUri | default | length > 0 ? images[0].imageUri : '/noimage_plugin_list.png') }}"
                             class="card-img-top" alt="...">
                        <div class="d-block d-sm-none m-2 p-2"></div>
                    </div>
                    <div class="col-6 col-sm-3">
                        <img src="{{ app.request.schemeAndHttpHost ~ '/' ~ constant('Customize\\Config\\AnilineConf::ANILINE_IMAGE_URL_BASE') ~ (images[1].imageUri | default | length > 0 ? images[1].imageUri : '/noimage_plugin_list.png') }}"
                             class="card-img-top w-100" alt="...">
                        <div class="m-2 p-2"></div>
                        <img src="{{ app.request.schemeAndHttpHost ~ '/' ~ constant('Customize\\Config\\AnilineConf::ANILINE_IMAGE_URL_BASE') ~ (images[2].imageUri | default | length > 0 ? images[2].imageUri : '/noimage_plugin_list.png') }}"
                             class="card-img-top w-100" alt="...">
                    </div>
                    <div class="col-6 col-sm-3">
                        <img src="{{ app.request.schemeAndHttpHost ~ '/' ~ constant('Customize\\Config\\AnilineConf::ANILINE_IMAGE_URL_BASE') ~ (images[3].imageUri | default | length > 0 ? images[3].imageUri : '/noimage_plugin_list.png') }}"
                             class="card-img-top w-100" alt="...">
                        <div class="m-2 p-2"></div>
                        <img src="{{ app.request.schemeAndHttpHost ~ '/' ~ constant('Customize\\Config\\AnilineConf::ANILINE_IMAGE_URL_BASE') ~ (images[4].imageUri | default | length > 0 ? images[4].imageUri : '/noimage_plugin_list.png') }}"
                             class="card-img-top w-100" alt="...">
                    </div>
                </div>
                <div class="m-2 p-2"></div>
                {% if video %}
                    <div class="row">
                        <div class="col-12 text-center">
                            <video controls autoplay loop preload="auto">
                                <source type="video/mp4"
                                        src="{{ app.request.schemeAndHttpHost ~ '/' ~ video.imageUri }}">
                            </video>
                        </div>
                    </div>
                    <div class="m-2 p-2"></div>
                {% endif %}
                <div class="row">
                    <div class="adoption_section_header">
                        <i class="fas fa-paw"></i>　基本情報
                    </div>
                    <div class="col-12 adoption_section_detail">
                        <div class="row">
                            <div class="col-12 col-md-4 contents_col_bold">種類</div>
                            <div class="col-12 col-md-8 contents_col_normal">{{ conservationPet.breedsType.breedsName ?? '' }}</div>
                        </div>
                    </div>
                    <div class="col-12 adoption_section_detail">
                        <div class="row">
                            <div class="col-12 col-md-4 contents_col_bold">性別</div>
                            <div class="col-12 col-md-8 contents_col_normal">{{ conservationPet.petSex == constant('Customize\\Config\\AnilineConf::ANILINE_PET_SEX_MALE') ? '男の子' : '女の子' }}</div>
                        </div>
                    </div>
                    <div class="col-12 adoption_section_detail">
                        <div class="row">
                            {% set conservationHouse = conservationPet.Conservation.getConservationHouseByPetType(conservationPet.petKind) %}
                            <div class="col-12 col-md-4 contents_col_bold">見学地域</div>
                            <div class="col-12 col-md-8 contents_col_normal">{{ conservationHouse.conservationHouseCity ~ ' ' ~ conservationHouse.conservationHousePref ?? '' }}</div>
                        </div>
                    </div>
                    <div class="col-12 adoption_section_detail">
                        <div class="row">
                            <div class="col-12 col-md-4 contents_col_bold">誕生日</div>
                            <div class="col-12 col-md-8 contents_col_normal">{{ conservationPet.petBirthday.format('Y年m月d日') ?? '' }}</div>
                        </div>
                    </div>
                    <div class="col-12 adoption_section_detail">
                        <div class="row">
                            <div class="col-12 col-md-4 contents_col_bold">毛色</div>
                            <div class="col-12 col-md-8 contents_col_normal">{{ conservationPet.coatColor.coatColorName ?? '' }}</div>
                        </div>
                    </div>
                    {# <div class="col-12 adoption_section_detail">
                        <div class="row">
                            <div class="col-12 col-md-4 contents_col_bold">血統書の有無</div>
                            <div class="col-12 col-md-8 contents_col_normal">{{ conservationPet.getIsPedigree() == 0 ? '無' : '有' }}</div>
                        </div>
                    </div>
                    <div class="col-12 adoption_section_detail">
                        <div class="row">
                            <div class="col-12 col-md-4 contents_col_bold">ワクチン代負担</div>
                            <div class="col-12 col-md-8 contents_col_normal">{{ conservationPet.getIsPedigree() == 0 ? '代金に含まない' : '代金に含む' }}</div>
                        </div>
                    </div> #}
                    {# <div class="col-12 adoption_section_detail">
                        <div class="row">
                            <div class="col-12 col-md-4 contents_col_bold">繁殖の可否</div>
                            <div class="col-12 col-md-8 contents_col_normal">{{ breederPet.getIsBreeding() == 0 ? '否' : '可' }}</div>
                        </div>
                    </div>
                    <div class="col-12 breeder_section_detail">
                        <div class="row">
                            <div class="col-12 col-md-4 contents_col_bold">ブリーダーへの販売可否</div>
                            <div class="col-12 col-md-8 contents_col_normal">{{ breederPet.getIsBreeding() == 0 ? '否' : '可' }}</div>
                        </div>
                    </div> #}
                    <div class="col-12 adoption_section_detail">
                        <div class="row">
                            <div class="col-12 col-md-4 contents_col_bold">成犬時予想体重</div>
                            <div class="col-12 col-md-8 contents_col_normal">{{ conservationPet.futureWait }}kg</div>
                        </div>
                    </div>
                    <div class="adoption_section_header">
                        <i class="fas fa-paw"></i>　PRコメント
                    </div>
                    <div class="col-12 adoption_section_detail">
                        <div class="row">
                            <div class="col-12 contents_col_normal">{{ conservationPet.prComment | nl2br }}</div>
                        </div>
                    </div>
                    <div class="adoption_section_header">
                        <i class="fas fa-paw"></i>　金額
                    </div>
                    <div class="col-12 adoption_section_detail">
                        <div class="row">
                            <div class="col-12 contents_col_price">{{ conservationPet.price|number_format(0) }}円（税込）</div>
                        </div>
                    </div>
                    <div class="col-12 btn_center">
                        <div class="row">
                            <div class="col-12">
                                <a href="{{ url('adoption_contact', {'pet_id': conservationPet.id}) }}">
                                    <button class="btn basic-btn adoption-btn">お問い合わせ</button>
                                </a>
                            </div>
                        </div>
                    </div>
                    <div class="adoption_section_header_orange">
                        <i class="fas fa-paw"></i>　紹介文
                    </div>
                    <div class="col-12 adoption_section_detail">
                        <div class="row">
                            <div class="col-12 contents_col_normal">{{ conservationPet.description | nl2br }}</div>
                        </div>
                    </div>
                    {# <div class="breeder_section_header_orange">
                        <i class="fas fa-paw"></i>　生体保障内容
                    </div>
                    <div class="col-12 breeder_section_detail">
                        <div class="row">
                            <div class="col-12 contents_col_normal">{{ breederPet.getGuarantee() }}</div>
                        </div>
                    </div> #}
                    <div class="adoption_section_header_orange">
                        <i class="fas fa-paw"></i>　引き渡し時期
                    </div>
                    <div class="col-12 adoption_section_detail">
                        <div class="row">
                            <div class="col-12 contents_col_normal">{{ conservationPet.getDeliveryTime() | nl2br }}</div>
                        </div>
                    </div>
                    <div class="adoption_section_header_orange">
                        <i class="fas fa-paw"></i>　引き渡し方法
                    </div>
                    <div class="col-12 adoption_section_detail">
                        <div class="row">
                            <div class="col-12 contents_col_normal">{{ conservationPet.getDeliveryWay() | nl2br }}</div>
                        </div>
                    </div>
                    {# <div class="breeder_section_header_orange">
                        <i class="fas fa-paw"></i>　支払方法
                    </div>
                    <div class="col-12 breeder_section_detail">
                        <div class="row">
                            <div class="col-12 contents_col_normal">{{ breederPet.getPaymentMethod() }}</div>
                        </div>
                    </div> #}
                    <div class="m-2 p-2"></div>
                    <div class="adoption_section_header">
                        <i class="fas fa-paw"></i>　保護団体紹介
                    </div>
                </div>

                <div class="m-2 p-2"></div>
                <div class="row">
                    <div class="adoption-img col-sm-4">
                        <img alt="..."
                             src="{{ conservationPet.Conservation.thumbnailPath | default('/' ~ constant('Customize\\Config\\AnilineConf::ANILINE_IMAGE_URL_BASE') ~ '/noimage_plugin_list.png') }}"
                             class="w-100 mb-4 mb-sm-0">
                    </div>
                    <div class="adoption-info col-sm-8">
                        <h3 class="font-weight-500 color-gray-500">{{ conservationPet.Conservation.organizationName }}</h3>
                        <div class="d-flex">
                            <h6>運営者指名：</h6>
                            <h6>{{ conservationPet.Conservation.ownerName }}</h6>
                        </div>
                        <div class="m-1 p-1"></div>
                        <div class="d-flex">
                            <h6>ホームページの URL 任意：</h6>
                            <h6>{{ conservationPet.Conservation.homepageUrl }}</h6>
                        </div>
                        <div class="m-1 p-1"></div>
                        <div class="d-flex">
                            <h6>犬舎所在地：</h6>
                            {% set houseDog = conservationPet.Conservation.getConservationHouseByPetType(constant('Customize\\Config\\AnilineConf::ANILINE_PET_KIND_DOG')) %}
                            {% set houseCat = conservationPet.Conservation.getConservationHouseByPetType(constant('Customize\\Config\\AnilineConf::ANILINE_PET_KIND_CAT')) %}
                            {% if (conservationPet.Conservation.handlingPetKind == constant('Customize\\Config\\AnilineConf::ANILINE_PET_KIND_DOG_CAT')) %}
                                <h6>{{ houseDog.conservationHousePref ~ houseDog.conservationHouseCity ?? '' ~ ' ' ~ houseCat.conservationHousePref ~ houseCat.conservationHouseCity ?? '' }}</h6>
                            {% elseif (conservationPet.Conservation.handlingPetKind == constant('Customize\\Config\\AnilineConf::ANILINE_PET_KIND_DOG')) %}
                                <h6>{{ houseDog.conservationHousePref ~ houseDog.conservationHouseCity ?? '' }}</h6>
                            {% else %}
                                <h6>{{ houseCat.conservationHousePref ~ houseCat.conservationHouseCity ?? '' }}</h6>
                            {% endif %}
                        </div>
                        <div class="m-1 p-1"></div>
                        <div class="m-2 p-2"></div>
                        {# <a href="{{ url('breeder_detail', {'breeder_id':breederPet.Breeder.id}) }}"> #}
                        <a href="#">
                            <h4 class="color-adoption">保護団体詳細ページへ</h4>
                        </a>
                    </div>
                </div>
                <div class="m-2 p-2"></div>
                <div class="row">
                    <div class="adoption_section_header_orange">
                        <i class="fas fa-paw"></i>　PRコメント
                    </div>
                    <div class="col-12 adoption_section_detail">
                        <div class="row">
                            <div class="col-12 contents_col_normal">{{ conservationPet.Conservation.getPrText() | nl2br }}</div>
                        </div>
                    </div>
                </div>

                <div class="m-2 p-2"></div>
                <div class="row">
                    <div class="col-12 bg-primary">
                    </div>
                </div>
            </div>
        </div>
    </div>
    </body>
{% endblock %}
{% block stylesheet %}
    <link rel="stylesheet" href="{{ asset('assets/css/adoption-style.css') }}">
{% endblock %}
{% block javascript %}
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
<script src="{{ asset('assets/js/favorite.js') }}"></script>
    <script>
    function toggleNav() {
    var body = document.body;
    var hamburger = document.getElementById('js-hamburger');
    var blackBg = document.getElementById('js-black-bg');

    hamburger.addEventListener('click', function() {
    body.classList.toggle('nav-open');
});
    blackBg.addEventListener('click', function() {
    body.classList.remove('nav-open');
});
}
    toggleNav();
    </script>
{% endblock %}