{#
This file is part of EC-CUBE

Copyright(c) EC-CUBE CO.,LTD. All Rights Reserved.

http://www.ec-cube.co.jp/

For the full copyright and license information, please view the LICENSE
file that was distributed with this source code.
#}
{% extends '@admin/default_frame.twig' %}

{% set menus = ['product', 'instock'] %}

{% block title %}入荷情報登録{% endblock %}
{% block sub_title %}{{ 'admin.product.product_management'|trans }}{% endblock %}

{% block javascript %}
<script>
    $("#search").on('click', function() {
        $('#searchProductModalList').show();
    });
</script>
{% endblock %}

{% block stylesheet %}{% endblock %}

{% block main %}
    <form name="form1" id="form1" method="post" action="?">
        <div class="c-contentsArea__cols">
        <div class="c-contentsArea__primaryCol">
            <div class="c-primaryCol">
                <div class="card rounded border-0 mb-4">
                    <div class="card-header">
                        <div class="row">
                            <div class="col-8">
                                <div class="d-inline-block">
                                    <span class="card-title">入荷情報</span>
                                </div>
                            </div>
                            <div class="col-4 text-right">
                                <a data-toggle="collapse" href="#instockInfo" aria-expanded="false" aria-controls="instockInfo">
                                    <i class="fa fa-angle-up fa-lg"></i>
                                </a>
                            </div>
                        </div>
                    </div>
                    <div class="collapse show ec-cardCollapse" id="instockInfo">
                        <div class="card-body">
                            <div class="row h-adr">
                                <div class="col-6">
                                    <div class="row mb-3 form-group">
                                        <label class="col-3 col-form-label">発注日</label>
                                        <div class="col">
                                            <div class="form-inline">
                                                <select class="form-control mr-2">
                                                    <option value="2016">2016</option>
                                                    <option value="2017">2017</option>
                                                    <option value="2018">2018</option>
                                                    <option value="2019">2019</option>
                                                    <option value="2020">2020</option>
                                                    <option value="2021" selected>2021</option>
                                                </select>
                                                /
                                                <select class="form-control mr-2 ml-2">
                                                    <option value="1">01</option>
                                                    <option value="2">02</option>
                                                    <option value="3">03</option>
                                                    <option value="4">04</option>
                                                    <option value="5">05</option>
                                                    <option value="6">06</option>
                                                    <option value="7">07</option>
                                                    <option value="8">08</option>
                                                    <option value="9" selected>09</option>
                                                    <option value="10">10</option>
                                                    <option value="11">11</option>
                                                    <option value="12">12</option>
                                                </select>
                                                /
                                                <select class="form-control ml-2">
                                                    <option value=""></option>
                                                    <option value="1">01</option>
                                                    <option value="2">02</option>
                                                    <option value="15" selected>15</option>
                                                    <option value="30">30</option>
                                                    <option value="31">31</option>
                                                </select>
                                            </div>  
                                        </div>
                                    </div>
                                    <div class="row mb-3 form-group">
                                        <label class="col-3 col-form-label">仕入先</label>
                                        <div class="col">
                                            <select class="form-control">
                                                <option value="1">仕入先1</option>
                                                <option value="2">仕入先2</option>
                                            </select>
                                        </div>
                                    </div>
                                    <div class="row mb-3 form-group">
                                        <label class="col-3 col-form-label" >入荷予定日</label>
                                        <div class="col">
                                            <div class="form-inline">
                                                <select class="form-control mr-2">
                                                    <option value=""></option>
                                                    <option value="2021">2021</option>
                                                    <option value="2022">2022</option>
                                                    <option value="2023">2023</option>
                                                </select>
                                                /
                                                <select class="form-control mr-2 ml-2">
                                                    <option value=""></option>
                                                    <option value="1">01</option>
                                                    <option value="2">02</option>
                                                    <option value="3">03</option>
                                                    <option value="4">04</option>
                                                    <option value="5">05</option>
                                                    <option value="6">06</option>
                                                    <option value="7">07</option>
                                                    <option value="8">08</option>
                                                    <option value="9">09</option>
                                                    <option value="10">10</option>
                                                    <option value="11">11</option>
                                                    <option value="12">12</option>
                                                </select>
                                                /
                                                <select class="form-control ml-2">
                                                    <option value=""></option>
                                                    <option value="1">01</option>
                                                    <option value="2">02</option>
                                                    <option value="30">30</option>
                                                    <option value="31">31</option>
                                                </select>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-6">
                                    <div class="row mb-3 form-group">
                                        <label class="col-3 col-form-label">備考</label>
                                        <div class="col">
                                            <textarea class="form-control" rows="6"></textarea>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div><!-- .card.rounded -->
            <div id="order-product" class="card rounded border-0 mb-4">
                <div class="card-header">
                    <div class="row">
                        <div class="col-8">
                            {# <div class="d-inline-block" data-tooltip="true" data-placement="top" title="購入された商品情報、及び、送料、手数料を含めた計算結果が表示されます。商品の追加や金額変更を行った場合は、計算結果の更新を行ってください。"><span class="card-title">商品情報<i class="fa fa-question-circle fa-lg ml-1"></i></span></div> #}
                            <div class="d-inline-block"><span class="card-title">商品情報</span></div>
                        </div>
                        <div class="col-4 text-right"><a data-toggle="collapse" href="#orderItem" aria-expanded="false" aria-controls="orderItem"><i class="fa fa-angle-up fa-lg"></i></a></div>
                    </div>
                </div>
                <div class="collapse show ec-cardCollapse" id="orderItem">
                    <div class="card-body">
                        <div class="row justify-content-between mb-2">
                            <div class="col-6">
                                <a class="btn btn-ec-regular mr-2 add" data-toggle="modal" data-target="#addProduct">商品を追加</a>
                                <div class="modal fade" id="addProduct" tabindex="-1" role="dialog" aria-labelledby="addProduct" aria-hidden="true">
                                    <div class="modal-dialog modal-lg" role="document">
                                        <div class="modal-content">
                                            <div class="modal-header">
                                                <h5 class="modal-title">商品を追加</h5>
                                                <button class="close" type="button" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">×</span></button>
                                            </div>
                                            <div class="modal-body">
                                                <input type="text" id="admin_search_product_id" name="admin_search_product[id]" class="mb-3 form-control" placeholder="商品名・商品ID・商品コード" />
                                                    <select class="form-control">
                                                        <option value="">全ての商品</option>
                                                        <option value="2">新入荷</option>
                                                        <option value="1">ジェラート</option>
                                                        <option value="3">　彩のデザート</option>
                                                        <option value="4">　　CUBE</option>
                                                        <option value="5">アイスサンド</option>
                                                        <option value="6">　フルーツ</option>
                                                    </select>
                                                <button type="button" id="search" class="btn btn-ec-conversion px-5 mb-4 mt-2">検索</button>
                                                {# <div id="searchProductModalList" hidden> #}
                                                <div id="searchProductModalList" style="display: none;">
                                                    <table class="table table-striped table-sm mb-3">
                                                        <thead class="table-active">
                                                            <tr>
                                                                <th class="pt-2 pb-2 pl-3">商品ID</th>
                                                                <th class="pt-2 pb-2 pl-3">商品名・商品コード</th>
                                                                <th class="pt-2 pb-2 pr-3"></th>
                                                            </tr>
                                                        </thead>
                                                        <tbody>
                                                            <tr>
                                                                <td class="align-middle pl-3">
                                                                    2
                                                                </td>
                                                                <td class="align-middle pl-3">
                                                                    <p class="m-0"> チェリーアイスサンド</p>
                                                                    <span>sand-01</span>
                                                                </td>
                                                                <td class="align-middle pr-3 text-right">
                                                                    <button type="button" class="btn btn-ec-actionIcon" onclick="location.href='{{path('admin_product_instock')}}'">
                                                                        <i class="fa fa-plus fa-lg font-weight-bold text-secondary"></i>
                                                                    </button>
                                                                </td>
                                                            </tr>
                                                        </tbody>
                                                    </table>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                             </div>
                         </div>
                         <table id="table-form-field" class="table table-striped table-sm mb-0">
                             <thead class="table-active">
                             <tr class="text-nowrap">
                                 <th class="pt-2 pb-2 pl-3">商品名・商品コード</th>
                                 <th class="pt-2 pb-2">
                                     <div class="col-8">金額</div>
                                 </th>
                                 <th class="pt-2 pb-2">
                                     <div class="col-8">数量</div>
                                 </th>
                                 <th class="pt-2 pb-2">
                                     <div class="col-8">ダース数量</div>
                                 </th>
                                 <th class="pt-2 pb-2">
                                     <div class="col-8">小計</div>
                                 </th>
                                 <th class="pt-2 pb-2 pr-3"></th>
                             </tr>
                             </thead>
                             <tbody>
                                <input type="hidden" id="order_OrderItems_1_ProductClass" name="order[OrderItems][1][ProductClass]" value="11" />
                                <input type="hidden" id="order_OrderItems_1_order_item_type" name="order[OrderItems][1][order_item_type]" value="1" />
                                <input type="hidden" id="order_OrderItems_1_tax_type" name="order[OrderItems][1][tax_type]" value="1" />
                                <!-- 商品名 -->
                                <td class="align-middle w-25 pl-3">
                                    <p class="mb-0 font-weight-bold">
                                        <a href="http://animalline.local/aniconfig/product/product/2/edit" target="_blank">
                                            チェリーアイスサンド
                                        </a>
                                    </p>
                                    <span>sand-01</span>
                                </td>
                                <!-- 金額 -->
                                <td class="align-middle">
                                    <div class="col mt-3">
                                    {# <div class="col"> #}
                                        <div class="input-group">
                                            <div class="input-group-prepend">
                                                <span class="input-group-text">￥ </span>
                                            </div>
                                            <input type="text" required="required" class="form-control" value="2,800" />
                                        </div>
                                        <div class="text-right small">(税抜)</div>
                                    </div>
                                </td>
                                <!-- 数量 -->
                                <td class="align-middle">
                                    <div class="col-12 col-xl-8">
                                        <input type="number" required="required" class="form-control" value="1" />                     
                                    </div>
                                </td>
                                <!-- ダース数量 -->
                                <td class="align-middle">
                                    <div class="col-12 col-xl-8">
                                        <input type="number" required="required" class="form-control" value="1" />                     
                                    </div>
                                </td>
                                <!-- 小計 -->
                                <td class="align-middle">
                                    <div class="col">
                                        <span>￥3,080</span>
                                    </div>
                                </td>
                                <td class="align-middle text-right pr-3">
                                    <div class="row justify-content-end">
                                        <div class="col-auto text-center">
                                            <div class="d-inline-block mr-3" data-tooltip="true"
                                            data-placement="top" title="削除">
                                                <a class="btn btn-ec-actionIcon" data-toggle="modal" data-target="#delete_order_OrderItems_1">
                                                    <i class="fa fa-close fa-lg text-secondary" aria-hidden="true"></i>
                                                </a>
                                            </div>
                                            <!-- 明細の削除確認モーダル -->
                                            <div class="modal fade" id="delete_order_OrderItems_1" tabindex="-1" role="dialog" aria-labelledby="delete_order_OrderItems_1" aria-hidden="true">
                                                <div class="modal-dialog" role="document">
                                                    <div class="modal-content">
                                                        <div class="modal-header">
                                                            <h5 class="modal-title font-weight-bold">削除します</h5>
                                                            <button class="close" type="button" data-dismiss="modal" aria-label="Close">
                                                                <span aria-hidden="true">×</span>
                                                            </button>
                                                        </div>
                                                        <div class="modal-body text-left">
                                                            <p class="text-left">明細は注文から削除されます。「チェリーアイスサンド」を削除してよろしいですか？</p>
                                                        </div>
                                                        <div class="modal-footer">
                                                            <button class="btn btn-ec-sub" type="button" data-dismiss="modal">キャンセル</button>
                                                            <a href="#order-product" class="btn delete btn-ec-delete">削除</a>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </td>
                            </tr>
                            </tbody>
                        </table>
                        <hr class="mt-0">
                        {# <div class="row justify-content-end mb-3">
                             <div class="col-auto"><span class="align-middle">小計</span></div>
                             <div class="col-2 text-right"><span class="h4 align-middle font-weight-normal">￥0</span></div>
                        </div>
                        <div class="row justify-content-end mb-3">
                            <div class="col-auto"><span class="align-middle">送料</span></div>
                            <div class="col-2 text-right"><span class="h4 align-middle font-weight-normal">￥0</span></div>
                        </div>
                        <div class="row justify-content-end mb-3">
                            <div class="col-auto"><span class="align-middle">手数料</span></div>
                            <div class="col-2 text-right"><span class="h4 align-middle font-weight-normal">￥0</span></div>
                        </div>
                        <div class="row justify-content-end mb-3">
                            <div class="col-auto"><span class="align-middle">値引き</span></div>
                            <div class="col-2 text-right"><span class="h4 align-middle text-danger font-weight-normal">￥0</span></div>
                        </div>
                        <hr>
                        <div class="row justify-content-end mb-3">
                            <div class="col-auto"><span class="align-middle">合計</span></div>
                            <div class="col-2 text-right"><span class="h4 align-middle font-weight-normal">￥0</span></div>
                        </div>
                        <hr> #}
                        <!-- お支払い合計 -->
                        <div class="row justify-content-end mb-3">
                            <div class="col-auto"><span class="align-middle">お支払い合計</span></div>
                            <div class="col-2 text-right"><span class="h4 align-middle font-weight-normal">￥3080</span></div>
                        </div>
                        <hr>
                    </div>
                </div>
            </div><!-- .card.rounded -->
        </div>
     </div>
 </div>
 <!-- コンバージョンエリア -->
 <div class="c-conversionArea">
     <div class="c-conversionArea__container">
         <div class="row justify-content-between align-items-center">
             <div class="col-6">
                 <div class="c-conversionArea__leftBlockItem">
                     {# <a class="c-baseLink" href="http://animalline.local/aniconfig/order?resume=1"><i class="fa fa-backward" aria-hidden="true"></i><span>受注一覧</span></a> #}
                 </div>
             </div>
             <div class="col-6">
                 <div class="row align-items-center justify-content-end">
                     <div class="col-auto">
                         <button type="submit" class="btn btn-ec-conversion px-5" name="mode" value="register">登録</button>
                     </div>
                 </div>
             </div>
         </div>
     </div>
 </div>
</form>

</div>
</div>    

{% endblock %}


